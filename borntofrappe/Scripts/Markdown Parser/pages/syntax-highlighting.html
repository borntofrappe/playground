<h1 id="syntax-highlighting">Syntax Highlighting</h1>
<p>Following the instructions detailed in the mardkwon file <strong>From Markdown to HTML</strong>, I set out to include syntax highlighting with the aforementioned <code>shiki</code> module.</p>
<pre><code class="language-js"><pre class="shiki" style="background-color: #0F111A"><code><span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">path</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">path</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">fs</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">fs</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">marked</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">marked</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>
<span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">shiki</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #82AAFF">require</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">shiki</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span></code></pre></code></pre>
<p>Looking at <a href="https://shiki.matsu.io/">the website for the shiki module</a>, I tried to replicate the example provided for the <code>markedown-it</code> package, just with <code>marked</code> instead.</p>
<p>It took surprisingly little, but the idea is to include the highlighter in the <code>highlight</code> field of the options in the markdown parser.</p>
<pre><code class="language-js"><pre class="shiki" style="background-color: #0F111A"><code><span style="color: #8F93A2">marked</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">setOptions</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">  </span><span style="color: #82AAFF">highlight</span><span style="color: #89DDFF">:</span><span style="color: #FFFFFF"> </span><span style="color: #89DDFF">(</span><span style="color: #FF5370">code</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #FF5370">lang</span><span style="color: #89DDFF">)</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=&gt;</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">highlighter</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">codeToHtml</span><span style="color: #FFFFFF">(</span><span style="color: #8F93A2">code</span><span style="color: #89DDFF">,</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">lang</span><span style="color: #FFFFFF">)</span>
<span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span></code></pre></code></pre>
<p>Once this option is set, I continue parsing the markdown files as specified in the previous script.</p>
<p>I decided to save the script in a separate file, <code>script-syntax.js</code>, to better analyze the modules contribution.</p>
<p>I also tried to include a different theme, using night owl, and while I ended up sticking with one of the given options, it was good practice to figure out what it would take.</p>
<ul>
<li><p>download the theme, placing the <a href="https://github.com/sdras/night-owl-vscode-theme/blob/master/themes/Night%20Owl-color-theme.json">json file</a> in the root folder</p>
</li>
<li><p>use the <code>loadTheme</code> function and pipe the theme directly in the script</p>
</li>
</ul>
<pre><code class="language-js"><pre class="shiki" style="background-color: #0F111A"><code><span style="color: #C792EA">const</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">theme</span><span style="color: #FFFFFF"> </span><span style="color: #C792EA">=</span><span style="color: #FFFFFF"> </span><span style="color: #8F93A2">shiki</span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">loadTheme</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">"</span><span style="color: #C3E88D">./Night-Owl-color-theme.json</span><span style="color: #89DDFF">"</span><span style="color: #FFFFFF">)</span><span style="color: #89DDFF">;</span>

<span style="color: #8F93A2">shiki</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">getHighlighter</span><span style="color: #FFFFFF">(</span><span style="color: #89DDFF">{</span>
<span style="color: #FFFFFF">    </span><span style="color: #8F93A2">theme</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">}</span><span style="color: #FFFFFF">)</span>
<span style="color: #FFFFFF">  </span><span style="color: #89DDFF">.</span><span style="color: #82AAFF">then</span><span style="color: #FFFFFF">()</span><span style="color: #89DDFF">;</span></code></pre></code></pre>
<p>Store it in the <em>good to know</em> drawer.</p>
